### Minimal app

  ```dart
  void main() {
    runApp(Container(
      color: Colors.deepOrange,
    ));
  }
  ```

![App Screen](img/1.1.png)

### Widgets Tree

![Widgets Tree](img/1.2.png)

### Let's create App as separate StatelessWidget

  ```dart
    void main() {
      runApp(App());
    }
    
    class App extends StatelessWidget {
      @override
      Widget build(BuildContext context) {
        return Container(
          color: Colors.deepOrange,
        );
      }
    }
  ```

App Screen is the same

But the Tree a bit changed

![Widgets Tree](img/1.3.png)

Add print

```dart
  Widget build(BuildContext context) {
    print('app build context: ${context.runtimeType} ${context.hashCode}');
    return Container(
      color: Colors.deepOrange,
    );
  }
```

it prints
```bash
  flutter: app build context: StatelessElement 3
```

Add MaterialApp

```dart
class App extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    print('app build context: ${context.runtimeType} ${context.hashCode}');
    return MaterialApp(
      home: HomePage(),
    );
  }
}

class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final size = MediaQuery.of(context).size;
    print('size: $size');
    print(
        'home page build context: ${context.runtimeType} ${context.hashCode}');
    return Container(color: Colors.deepOrange);
  }
}
```

it prints
```bash
flutter: app build context: StatelessElement 3
flutter: size: Size(375.0, 812.0)
flutter: home page build context: StatelessElement 93
```

## Grasp InheritedWidget

We can get MediaQuery another way
```dart
    // final size = MediaQuery.of(context).size;
    final size = context.dependOnInheritedWidgetOfExactType<MediaQuery>();
```

The method code

```dart
  @override
  T dependOnInheritedWidgetOfExactType<T extends InheritedWidget>({Object aspect}) {
    assert(_debugCheckStateIsActiveForAncestorLookup());
    final InheritedElement ancestor = _inheritedWidgets == null ? null : _inheritedWidgets[T];
    if (ancestor != null) {
      assert(ancestor is InheritedElement);
      return dependOnInheritedElement(ancestor, aspect: aspect) as T;
    }
    _hadUnsatisfiedDependencies = true;
    return null;
  }
```

_inheritedWidgets is a HashMap

```dart
  Map<Type, InheritedElement> _inheritedWidgets;
```

